<!doctype html>

<html>
<head>
  <title>WebRTC video streaming demo using Nabto</title>
  <meta charset="utf-8">
  <link href="styles.css" rel="stylesheet">
  <script src="nabtoBundle.js"></script>
  <script src="webclient.js"></script>
</head>
<body>
  <div class="container">
    <form class="infobox">
      <section>
        <h1>Nabto WebRTC browser demo</h1>
        <p>Enter Device Info: </p>
      </section>
      <section>
        <label for="devicelink">Device Pairing link: </label>
        <input id="devicelink" type="text" required inputmode="verbatim" size="140"  value="">
      </section>
    </form>
    <div class="controlbox">
      <section>
      <label for="audiodown">Downstream Audio:</label>
      <input id="audiodown" type="checkbox" required>
      <input id="login" type="button" name="login" value="Connect" onclick="connect()">
      <input id="reqvid" type="button" name="reqVid" value="Request Video" onclick="requestVideo()" disabled>
      <input id="passauth" type="button" name="passAuth" value="Password Authenticate" onclick="passAuth()" disabled>
      <input id="fpvalid" type="button" name="fpValid" value="Validate Fingerprint" onclick="validateFingerprint()" disabled>
    </section>
    <section>
      <label for="oauthtoken">Oauth Token: </label>
      <input id="oauthtoken" type="text" maxlength="1024" inputmode="verbatim" value="" onchange="tokenUpdated()">
    <input id="oauth" type="button" name="oAuth" value="Oauth login" onclick="oAuth()" disabled>
    </section>
    <section>
      <h3>CoAP Requests</h3>
      <label for="coapmethod">Method: </label>
      <input id="coapmethod" type="text" maxlength="7" size="6" inputmode="verbatim" value="" onchange="updateUi()">
      <label for="coappath">Path: </label>
      <input id="coappath" type="text" inputmode="verbatim" value="" onchange="updateUi()">
      <label for="coapct">Content Type: </label>
      <input id="coapct" type="number" style="width:3em" value="">
      <label for="coappayload">Payload: </label>
      <input id="coappayload" type="text" inputmode="verbatim" value="">

      <input id="coap" type="button" name="coap" value="Invoke CoAP" onclick="coapInvoke()" disabled>
    </section>
    </div>
    <ul class="logbox"><b>LOG:</b></ul>
    <div class="camerabox">
      <video id="received_video" autoplay></video>
      <button id="hangup-button" onclick="hangUpCall();" role="button">
        Hang Up
      </button>
      <audio id="received_audio" autoplay></audio>
    </div>
  </div>
</body>
</html>
