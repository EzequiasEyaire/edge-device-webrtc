<!doctype html>
<html>
<head>
  <title>WebRTC video streaming demo using Nabto</title>
  <meta charset="utf-8">
  <link href="styles.css" rel="stylesheet">
  <script src="nabto_bundle.js"></script>
  <script src="webrtc_client.js"></script>
  <script src="util.js"></script>
</head>
<body>
  <div class="container">
    <form class="infobox">
      <section>
        <h1>Nabto Simple WebRTC example</h1>
        <p>Copy the device configuration string and parse it or enter the device information below </p>
      </section>
      <section>
        <label for="devicestring">Device Configuration string to parse for device info: </label>
        <input id="devicestring" type="text" required inputmode="verbatim" size="45"  value="">
        <input id="stringparse" type="button" name="stringparse" value="Parse" onclick="parseString()">
      </section>
      <section>
        <label for="product">Product ID: </label>
        <input id="product" type="text" maxlength="12" required inputmode="verbatim" value="" onchange="storeInfo()">

        <label for="device">Device ID: </label>
        <input id="device" type="text" maxlength="12" required inputmode="verbatim" value="" onchange="storeInfo()">

        <label for="sct">SCT: </label>
        <input id="sct" type="text" maxlength="12" required inputmode="verbatim" value="demosct" onchange="storeInfo()">
      </section>
    </form>
    <div class="controlbox">
      <section>
        <input id="connect" type="button" name="connect" value="Connect" onclick="connect()">
        <input id="disconnect" type="button" name="disconnect" value="Disconnect" onclick="disconnect()" disabled>
      </section>
      <section style="border: 1px solid; max-width: 1500px; margin-top: 10px;">
        <div style="margin: 10px;">
          <h3>Datachannel</h3>
          <label for="dclabel">Label: </label>
          <input id="dclabel" type="text" maxlength="1024" inputmode="verbatim" value="testchannel">
          <input id="createDc" type="button" name="createDc" value="Create Datachannel" onclick="createDatachannel(dclabel.value)" disabled>
          <div id="dcsenddiv" hidden="true">
            <label for="dcin">Input data: </label>
            <input id="dcin" type="text" maxlength="1024" inputmode="verbatim" value="">
            <input id="dcSend" type="button" name="dcSend" value="Send" onclick="datachannelSend(dcin.value)">
          </div>
        </div>
      </section>

    </div>
    <ul class="logbox"><b>LOG:</b></ul>
    <div class="camerabox">
      <video id="received_video" autoplay></video>
    </div>
  </div>
</body>
</html>
